{"code":"import { HINT } from \"../../alias\";\nimport { Address } from \"../../key\";\nimport { Hint } from \"../../common\";\nimport { Big, LongString } from \"../../types\";\nclass Calldata {\n    constructor(hint) {\n        this.hint = new Hint(hint);\n    }\n    toBuffer() {\n        return Buffer.from([]);\n    }\n    toHintedObject() {\n        return {\n            _hint: this.hint.toString(),\n        };\n    }\n}\nexport class TransferCalldata extends Calldata {\n    constructor(sender, receiver, amount) {\n        super(HINT.DAO.CALLDATA.TRANSFER);\n        this.sender = Address.from(sender);\n        this.receiver = Address.from(receiver);\n        this.amount = amount;\n    }\n    toBuffer() {\n        return Buffer.concat([\n            super.toBuffer(),\n            this.sender.toBuffer(),\n            this.receiver.toBuffer(),\n            this.amount.toBuffer(),\n        ]);\n    }\n    toHintedObject() {\n        return Object.assign(Object.assign({}, super.toHintedObject()), { sender: this.sender.toString(), receiver: this.receiver.toString(), amount: this.amount.toHintedObject() });\n    }\n}\nexport class GovernanceCalldata extends Calldata {\n    constructor(policy) {\n        super(HINT.DAO.CALLDATA.GOVERNANCE);\n        this.policy = policy;\n    }\n    toBuffer() {\n        return Buffer.concat([\n            super.toBuffer(),\n            this.policy.toBuffer(),\n        ]);\n    }\n    toHintedObject() {\n        return Object.assign(Object.assign({}, super.toHintedObject()), { policy: this.policy.toHintedObject() });\n    }\n}\nclass Proposal {\n    constructor(hint, proposer, startTime) {\n        this.hint = new Hint(hint);\n        this.proposer = Address.from(proposer);\n        this.startTime = Big.from(startTime);\n    }\n    toBuffer() {\n        return Buffer.concat([\n            this.proposer.toBuffer(),\n            this.startTime.toBuffer(\"fill\"),\n        ]);\n    }\n    toHintedObject() {\n        return {\n            _hint: this.hint.toString(),\n            proposer: this.proposer.toString(),\n            start_time: this.startTime.v,\n        };\n    }\n}\nexport class CryptoProposal extends Proposal {\n    constructor(proposer, startTime, calldata) {\n        super(HINT.DAO.PROPOSAL.CRYPTO, proposer, startTime);\n        this.calldata = calldata;\n    }\n    toBuffer() {\n        return Buffer.concat([\n            super.toBuffer(),\n            this.calldata.toBuffer(),\n        ]);\n    }\n    toHintedObject() {\n        return Object.assign(Object.assign({}, super.toHintedObject()), { call_data: this.calldata.toHintedObject() });\n    }\n}\nexport class BizProposal extends Proposal {\n    constructor(proposer, startTime, url, hash, options) {\n        super(HINT.DAO.PROPOSAL.BIZ, proposer, startTime);\n        this.url = LongString.from(url);\n        this.hash = LongString.from(hash);\n        this.options = Big.from(options);\n    }\n    toBuffer() {\n        return Buffer.concat([\n            super.toBuffer(),\n            this.url.toBuffer(),\n            this.hash.toBuffer(),\n            this.options.toBuffer(),\n        ]);\n    }\n    toHintedObject() {\n        return Object.assign(Object.assign({}, super.toHintedObject()), { url: this.url.toString(), hash: this.hash.toString(), options: this.options.v });\n    }\n}\n//# sourceMappingURL=proposal.js.map","references":["/Users/ohayoung/Projects/npm/mitumjs/src/operation/dao/policy.ts","/Users/ohayoung/Projects/npm/mitumjs/src/alias/index.ts","/Users/ohayoung/Projects/npm/mitumjs/src/key/index.ts","/Users/ohayoung/Projects/npm/mitumjs/src/common/index.ts","/Users/ohayoung/Projects/npm/mitumjs/src/types/index.ts"],"map":"{\"version\":3,\"file\":\"proposal.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/operation/dao/proposal.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/ohayoung/Projects/npm/mitumjs/node_modules/.cache/rollup-plugin-typescript2/placeholder/operation/dao/proposal.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"node\" />\nimport { DAOPolicy } from \"./policy\";\nimport { Address } from \"../../key\";\nimport { Amount } from \"../../common\";\nimport { Big, HintedObject, IBuffer, IHintedObject, LongString } from \"../../types\";\ndeclare abstract class Calldata implements IBuffer, IHintedObject {\n    private hint;\n    constructor(hint: string);\n    toBuffer(): Buffer;\n    toHintedObject(): HintedObject;\n}\nexport declare class TransferCalldata extends Calldata {\n    readonly sender: Address;\n    readonly receiver: Address;\n    readonly amount: Amount;\n    constructor(sender: string | Address, receiver: string | Address, amount: Amount);\n    toBuffer(): Buffer;\n    toHintedObject(): HintedObject;\n}\nexport declare class GovernanceCalldata extends Calldata {\n    readonly policy: DAOPolicy;\n    constructor(policy: DAOPolicy);\n    toBuffer(): Buffer;\n    toHintedObject(): HintedObject;\n}\ndeclare abstract class Proposal implements IBuffer, IHintedObject {\n    private hint;\n    readonly proposer: Address;\n    readonly startTime: Big;\n    constructor(hint: string, proposer: string | Address, startTime: string | number | Big);\n    toBuffer(): Buffer;\n    toHintedObject(): HintedObject;\n}\nexport declare class CryptoProposal extends Proposal {\n    readonly calldata: TransferCalldata | GovernanceCalldata;\n    constructor(proposer: string | Address, startTime: string | number | Big, calldata: TransferCalldata | GovernanceCalldata);\n    toBuffer(): Buffer;\n    toHintedObject(): HintedObject;\n}\nexport declare class BizProposal extends Proposal {\n    readonly url: LongString;\n    readonly hash: LongString;\n    readonly options: Big;\n    constructor(proposer: string | Address, startTime: string | number | Big, url: string | LongString, hash: string | LongString, options: string | number | Big);\n    toBuffer(): Buffer;\n    toHintedObject(): HintedObject;\n}\nexport {};\n"}}
