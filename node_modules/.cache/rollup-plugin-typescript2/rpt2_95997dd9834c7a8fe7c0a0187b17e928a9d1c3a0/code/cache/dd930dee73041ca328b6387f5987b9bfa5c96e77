{"code":"import { Assert, MitumError } from \"../error\";\nexport class TimeStamp {\n    constructor(t) {\n        if (t === undefined) {\n            this.t = new Date();\n        }\n        else {\n            this.t = new Date(t);\n        }\n    }\n    static new() {\n        return new TimeStamp();\n    }\n    static from(t) {\n        if (!t) {\n            return this.new();\n        }\n        return t instanceof TimeStamp ? t : new TimeStamp(t);\n    }\n    toBuffer() {\n        return Buffer.from(this.UTC());\n    }\n    toString() {\n        return this.ISO();\n    }\n    ISO() {\n        return this.t.toISOString();\n    }\n    UTC() {\n        const iso = this.t.toISOString();\n        const t = iso.indexOf(\"T\");\n        let z = iso.indexOf(\"Z\");\n        let rtime;\n        if (z < 0) {\n            z = iso.indexOf(\"+\");\n        }\n        Assert.check(0 <= z, MitumError.detail(undefined, \"no 'Z' in iso\"));\n        let _time = iso.substring(t + 1, z);\n        const dotIdx = _time.indexOf(\".\");\n        if (dotIdx < 0) {\n            rtime = _time;\n        }\n        else {\n            const decimal = _time.substring(9, _time.length);\n            const idx = decimal.lastIndexOf(\"0\");\n            if (idx < 0 || idx != decimal.length - 1) {\n                rtime = _time;\n            }\n            else {\n                let startIdx = decimal.length - 1;\n                for (let i = decimal.length - 1; i > -1; i--) {\n                    if (decimal[i] == \"0\") {\n                        startIdx = i;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (startIdx == 0) {\n                    rtime = _time.substring(0, dotIdx);\n                }\n                else {\n                    rtime =\n                        _time.substring(0, dotIdx) +\n                            \".\" +\n                            decimal.substring(0, startIdx);\n                }\n            }\n        }\n        return iso.substring(0, t) + \" \" + rtime + \" +0000 UTC\";\n    }\n}\nexport class FullTimeStamp extends TimeStamp {\n    constructor(s) {\n        super(s);\n        const dot = s.indexOf(\".\");\n        if (dot < 0) {\n            this.r = \"\";\n        }\n        else {\n            this.r = s.substring(dot, s.length);\n        }\n    }\n    static from(t) {\n        return t instanceof FullTimeStamp ? t : new FullTimeStamp(t);\n    }\n    toBuffer(option) {\n        return Buffer.from(option === \"super\" ? super.UTC() : this.UTC());\n    }\n    ISO() {\n        const iso = super.ISO();\n        if (this.r) {\n            const idx = iso.indexOf(\".\");\n            return iso.substring(0, idx) + this.r;\n        }\n        return iso;\n    }\n    UTC() {\n        const utc = super.UTC();\n        if (this.r) {\n            const idx0 = utc.indexOf(\".\");\n            const idx1 = utc.indexOf(\"+\");\n            return utc.substring(0, idx0) + this.r + \" \" + utc.substring(idx1);\n        }\n        return utc;\n    }\n}\n//# sourceMappingURL=time.js.map","references":["/Users/ohayoung/Projects/npm/mitumjs/src/types/interface.ts","/Users/ohayoung/Projects/npm/mitumjs/src/error/index.ts"],"map":"{\"version\":3,\"file\":\"time.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/types/time.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/ohayoung/Projects/npm/mitumjs/node_modules/.cache/rollup-plugin-typescript2/placeholder/types/time.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"node\" />\nimport { IBuffer, IString } from \"./interface\";\nexport declare class TimeStamp implements IBuffer, IString {\n    private t;\n    constructor(t?: string | number | Date);\n    static new(): TimeStamp;\n    static from(t?: string | number | Date | TimeStamp): TimeStamp;\n    toBuffer(): Buffer;\n    toString(): string;\n    ISO(): string;\n    UTC(): string;\n}\nexport declare class FullTimeStamp extends TimeStamp {\n    private r;\n    constructor(s: string);\n    static from(t: string | FullTimeStamp): FullTimeStamp;\n    toBuffer(option?: \"super\"): Buffer;\n    ISO(): string;\n    UTC(): string;\n}\n"}}
